/*
  Top Navigation
*/


#nav-container {
  @include clearfix();

  position: fixed;
  top: 0;
  left: 0;

  z-index: 1020;

  width: 100%;

  .top-bar { background: rgba(#fff,0.9); }

  @include respond-to(medium) {
    position: absolute;

    .top-bar { background: rgba(#fff,1); }

    .desk-nav { display: none; }
  }

  // @include transition(padding-top 0.25s ease-in-out);

  @include box-shadow(0px 0px 5px 0px rgba(0,0,0,0.15));

  .canvas-toggle {
    display: none;
    cursor: pointer;

    padding: 0;
    width: 34px;
    height: 34px;

    position: absolute;
    top: 34px;
    left: 34px;

    text-transform: none;
    font-size: 16px;
    line-height: 38px;
    color: white;
    text-align: center;

    background-color: $color-darkblue;

    &:hover {
      background-color: $color-lightblue;
    }

    @include transition(margin-top 0.25s ease-in-out);

    @include respond-to(medium) { display: block; }
  }

  .has-dropdown {
    &.open {
      ul.dropdown {
        top: 100px;
      }
    }

    ul.dropdown {
      width: 180px;
      z-index: -1;

      padding-top: 10px;
      background: transparent;

      li a {
        background: $color-lightblue;


        font-family: $font-boldcnd20;
        font-size: 24px;
        line-height: 48px;
        text-transform: uppercase;

        &:hover {
          background: darken($color-lightblue, 4%);
        }
      }

      &:before {
        @include css-triangle(10px, $color-lightblue, bottom);
        position: absolute;
        top: -10px;
        left: 40px;
        z-index: 99;
      }
    }
  }
  &.sticky {
    .has-dropdown.open {
      ul.dropdown {
        top: 60px;
      }
    }
  }

  a.logo {
    display: block;
    float: left;

    width: 174px;
    height: 100px;

    background: url(<%= asset_data_uri('layout/salomon_snowboards-logo-dark@2x.png') %>) center center no-repeat;
    background-size: 136px 40px;

    text-indent: -9999px;

    &:hover {
      background: url(<%= asset_data_uri('layout/salomon_snowboards-logo-white@2x.png') %>) center center no-repeat;
      background-color: $color-lightblue;
      background-size: 136px 40px;
    }

    @include respond-to(medium) {
      float: none;

      margin: 0 auto;
    }

    @include transition(
      top 0.25s ease-in-out,
      height 0.25s ease-in-out
    );
  }

  ul.left, ul.right {
    background: transparent;

    li.open > a {
      background: $color-lightblue;
      color: white;
    }

    & > li > a {
      background: transparent;
      color: $color-darkblue;
      line-height: 100px;

      &.no-link {
        cursor: default;
      }

      &:hover {
        background: $color-lightblue;
        color: white;
      }

      &.active {
        background: $color-darkblue;
        color: #fff;
      }

      @include transition(
          line-height 0.25s ease-in-out,
          font-size 0.25s ease-in-out,
          padding 0.25s ease-in-out
      );
    }

    &.left {

      & > li > a {
        font-size: 24px;
        text-transform: uppercase;
        font-family: $font-boldcnd20obl;
      }
    }
  }

  ul.social-wrap {
    margin-right: 10px;
    position: relative;

    li > a {
      font-size: 16px;
    }

    li.social {
      & > a {
        width: 34px;
        height: 34px;

        margin-right: 10px;
        margin-top: 34px;
        padding: 0;

        background-color: $color-darkblue;

        font-family: "SSSocialRegular";
        text-transform: none;
        font-size: 16px;
        line-height: 38px;
        color: white;
        text-align: center;

        @include transition(margin-top 0.25s ease-in-out);
      }

      &:hover > a {
        background-color: $color-lightblue;
      }

      .drop {
        display: none;
      }

      &.dropable {
        // position: relative;

        &:after {
          @include css-triangle(10px, $color-lightblue, bottom);
          position: absolute;
          top: 58px;

          z-index: 99;
        }

        &:after,
        .drop {
          display: none;
          opacity: 0;
          visibility: hidden;
        }

        .drop {
          padding-top: 10px;
          position: absolute;
          top: 68px;
          right: 10px;

          .inner {
            border: 10px $color-lightblue solid;
            padding: 10px;
            background-color: white;
            overflow: hidden;
          }
        }

        &.facebook {
          .drop {
            width: 270px;
          }
          &:after {
            right: 149px;
          }
        }

        &.twitter {
          .drop {
            width: 123px;

            iframe {
              display: block;
              margin: 0 auto;
              width: 80px !important;
            }
          }
          &:after {
            right: 61px;
          }
        }

        &.pinterest {
          .drop {
            width: 180px;

            .inner {
              a {
                vertical-align: 10% !important;
              }
            }
          }
          &:after {
            right: 17px;
          }
        }

        &.open,
        &:hover {
          &:after,
          .drop {
            display: block;
            opacity: 1;
            visibility: visible;
          }
        }
      }
    }
  }

  &.sticky {
    .social-wrap {
      .dropable {
        .drop {
          top: 47px !important;
        }
        &:after {
          top: 37px !important;
        }
      }
    }
  }

  &.sticky {
    height: 60px;

    a.logo {
      height: 60px;
      top: 10px;
    }

    ul.title-area {
    height: 60px;
    }

    ul li a {
      line-height: 60px;
    }

    .canvas-toggle {
      top: 13px;
      left: 13px;
    }
    ul.right li.social a {
      margin-top: 13px;
    }
  }

  // @include transition(
  //     height 0.25s ease-in-out,
  //     top 0.25s ease-in-out
  // );

  // @include transition(
  //     top 0.25s ease-in-out,
  //     padding-top 0.25s ease-in-out
  // );
}
